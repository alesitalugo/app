/*round library*/

(function($){var supportedCSS,supportedCSSOrigin,styles=document.getElementsByTagName("head")[0].style,toCheck="transformProperty WebkitTransform OTransform msTransform MozTransform".split(" ");for(var a=0;a<toCheck.length;a++)if(styles[toCheck[a]]!==undefined){supportedCSS=toCheck[a]}if(supportedCSS){supportedCSSOrigin=supportedCSS.replace(/[tT]ransform/,"TransformOrigin");if(supportedCSSOrigin[0]=="T")supportedCSSOrigin[0]="t"}eval('IE = "v"==""');jQuery.fn.extend({rotate:function(e){if(this.length===0||typeof e=="undefined")return;if(typeof e=="number")e={angle:e};var t=[];for(var n=0,r=this.length;n<r;n++){var i=this.get(n);if(!i.Wilq32||!i.Wilq32.PhotoEffect){var s=$.extend(true,{},e);var o=(new Wilq32.PhotoEffect(i,s))._rootObj;t.push($(o))}else{i.Wilq32.PhotoEffect._handleRotation(e)}}return t},getRotateAngle:function(){var e=[];for(var t=0,n=this.length;t<n;t++){var r=this.get(t);if(r.Wilq32&&r.Wilq32.PhotoEffect){e[t]=r.Wilq32.PhotoEffect._angle}}return e},stopRotate:function(){for(var e=0,t=this.length;e<t;e++){var n=this.get(e);if(n.Wilq32&&n.Wilq32.PhotoEffect){clearTimeout(n.Wilq32.PhotoEffect._timer)}}}});Wilq32=window.Wilq32||{};Wilq32.PhotoEffect=function(){if(supportedCSS){return function(e,t){e.Wilq32={PhotoEffect:this};this._img=this._rootObj=this._eventObj=e;this._handleRotation(t)}}else{return function(e,t){this._img=e;this._onLoadDelegate=[t];this._rootObj=document.createElement("span");this._rootObj.style.display="inline-block";this._rootObj.Wilq32={PhotoEffect:this};e.parentNode.insertBefore(this._rootObj,e);if(e.complete){this._Loader()}else{var n=this;jQuery(this._img).bind("load",function(){n._Loader()})}}}}();Wilq32.PhotoEffect.prototype={_setupParameters:function(e){this._parameters=this._parameters||{};if(typeof this._angle!=="number"){this._angle=0}if(typeof e.angle==="number"){this._angle=e.angle}this._parameters.animateTo=typeof e.animateTo==="number"?e.animateTo:this._angle;this._parameters.step=e.step||this._parameters.step||null;this._parameters.easing=e.easing||this._parameters.easing||this._defaultEasing;this._parameters.duration=e.duration||this._parameters.duration||1e3;this._parameters.callback=e.callback||this._parameters.callback||this._emptyFunction;this._parameters.center=e.center||this._parameters.center||["50%","50%"];if(typeof this._parameters.center[0]=="string"){this._rotationCenterX=parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW}else{this._rotationCenterX=this._parameters.center[0]}if(typeof this._parameters.center[1]=="string"){this._rotationCenterY=parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH}else{this._rotationCenterY=this._parameters.center[1]}if(e.bind&&e.bind!=this._parameters.bind){this._BindEvents(e.bind)}},_emptyFunction:function(){},_defaultEasing:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},_handleRotation:function(e,t){if(!supportedCSS&&!this._img.complete&&!t){this._onLoadDelegate.push(e);return}this._setupParameters(e);if(this._angle==this._parameters.animateTo){this._rotate(this._angle)}else{this._animateStart()}},_BindEvents:function(e){if(e&&this._eventObj){if(this._parameters.bind){var t=this._parameters.bind;for(var n in t)if(t.hasOwnProperty(n))jQuery(this._eventObj).unbind(n,t[n])}this._parameters.bind=e;for(var n in e)if(e.hasOwnProperty(n))jQuery(this._eventObj).bind(n,e[n])}},_Loader:function(){if(IE)return function(){var e=this._img.width;var t=this._img.height;this._imgWidth=e;this._imgHeight=t;this._img.parentNode.removeChild(this._img);this._vimage=this.createVMLNode("image");this._vimage.src=this._img.src;this._vimage.style.height=t+"px";this._vimage.style.width=e+"px";this._vimage.style.position="absolute";this._vimage.style.top="0px";this._vimage.style.left="0px";this._aspectW=this._aspectH=1;this._container=this.createVMLNode("group");this._container.style.width=e;this._container.style.height=t;this._container.style.position="absolute";this._container.style.top="0px";this._container.style.left="0px";this._container.setAttribute("coordsize",e-1+","+(t-1));this._container.appendChild(this._vimage);this._rootObj.appendChild(this._container);this._rootObj.style.position="relative";this._rootObj.style.width=e+"px";this._rootObj.style.height=t+"px";this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._eventObj=this._rootObj;var n;while(n=this._onLoadDelegate.shift()){this._handleRotation(n,true)}};else return function(){this._rootObj.setAttribute("id",this._img.getAttribute("id"));this._rootObj.className=this._img.className;this._imgWidth=this._img.naturalWidth;this._imgHeight=this._img.naturalHeight;var e=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth);this._width=e*3;this._height=e*3;this._aspectW=this._img.offsetWidth/this._img.naturalWidth;this._aspectH=this._img.offsetHeight/this._img.naturalHeight;this._img.parentNode.removeChild(this._img);this._canvas=document.createElement("canvas");this._canvas.setAttribute("width",this._width);this._canvas.style.position="relative";this._canvas.style.left=-this._img.height*this._aspectW+"px";this._canvas.style.top=-this._img.width*this._aspectH+"px";this._canvas.Wilq32=this._rootObj.Wilq32;this._rootObj.appendChild(this._canvas);this._rootObj.style.width=this._img.width*this._aspectW+"px";this._rootObj.style.height=this._img.height*this._aspectH+"px";this._eventObj=this._canvas;this._cnv=this._canvas.getContext("2d");var t;while(t=this._onLoadDelegate.shift()){this._handleRotation(t,true)}}}(),_animateStart:function(){if(this._timer){clearTimeout(this._timer)}this._animateStartTime=+(new Date);this._animateStartAngle=this._angle;this._animate()},_animate:function(){var e=+(new Date);var t=e-this._animateStartTime>this._parameters.duration;if(t&&!this._parameters.animatedGif){clearTimeout(this._timer)}else{if(this._canvas||this._vimage||this._img){var n=this._parameters.easing(0,e-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration);this._rotate(~~(n*10)/10)}if(this._parameters.step){this._parameters.step(this._angle)}var r=this;this._timer=setTimeout(function(){r._animate.call(r)},10)}if(this._parameters.callback&&t){this._angle=this._parameters.animateTo;this._rotate(this._angle);this._parameters.callback.call(this._rootObj)}},_rotate:function(){var e=Math.PI/180;if(IE)return function(e){this._angle=e;this._container.style.rotation=e%360+"deg";this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+"px";this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+"px";this._container.style.top=this._rotationCenterY-this._imgHeight/2+"px";this._container.style.left=this._rotationCenterX-this._imgWidth/2+"px"};else if(supportedCSS)return function(e){this._angle=e;this._img.style[supportedCSS]="rotate("+e%360+"deg)";this._img.style[supportedCSSOrigin]=this._parameters.center.join(" ")};else return function(t){this._angle=t;t=t%360*e;this._canvas.width=this._width;this._canvas.height=this._height;this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH);this._cnv.translate(this._rotationCenterX,this._rotationCenterY);this._cnv.rotate(t);this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY);this._cnv.scale(this._aspectW,this._aspectH);this._cnv.drawImage(this._img,0,0)}}()};if(IE){Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");return function(e){return document.createElement("<rvml:"+e+' class="rvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}()}})(jQuery);


/*html util library*/

/*! HTML5 Shiv vpre3.6 | @afarkas @jdalton @jon_neal @rem | MIT/GPL2 Licensed
  Uncompressed source: https://github.com/aFarkas/html5shiv  */
(function(a,b){function h(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function i(){var a=l.elements;return typeof a=="string"?a.split(" "):a}function j(a){var b={},c=a.createElement,f=a.createDocumentFragment,g=f();a.createElement=function(a){if(!l.shivMethods)return c(a);var f;return b[a]?f=b[a].cloneNode():e.test(a)?f=(b[a]=c(a)).cloneNode():f=c(a),f.canHaveChildren&&!d.test(a)?g.appendChild(f):f},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(a){return c(a),g.createElement(a),'c("'+a+'")'})+");return n}")(l,g)}function k(a){var b;return a.documentShived?a:(l.shivCSS&&!f&&(b=!!h(a,"article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio{display:none}canvas,video{display:inline-block;*display:inline;*zoom:1}[hidden]{display:none}audio[controls]{display:inline-block;*display:inline;*zoom:1}mark{background:#FF0;color:#000}")),g||(b=!j(a)),b&&(a.documentShived=b),a)}var c=a.html5||{},d=/^<|^(?:button|form|map|select|textarea|object|iframe|option|optgroup)$/i,e=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,f,g;(function(){var c=b.createElement("a");c.innerHTML="<xyz></xyz>",f="hidden"in c,f&&typeof injectElementWithStyles=="function"&&injectElementWithStyles("#modernizr{}",function(b){b.hidden=!0,f=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).display=="none"}),g=c.childNodes.length==1||function(){try{b.createElement("a")}catch(a){return!0}var c=b.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()})();var l={elements:c.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:c.shivCSS!==!1,shivMethods:c.shivMethods!==!1,type:"default",shivDocument:k};a.html5=l,k(b)})(this,document);

/*EASING LIBRARY*/
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/

// t: current time, b: begInnIng value, c: change In value, d: duration
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('h.i[\'1a\']=h.i[\'z\'];h.O(h.i,{y:\'D\',z:9(x,t,b,c,d){6 h.i[h.i.y](x,t,b,c,d)},17:9(x,t,b,c,d){6 c*(t/=d)*t+b},D:9(x,t,b,c,d){6-c*(t/=d)*(t-2)+b},13:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t+b;6-c/2*((--t)*(t-2)-1)+b},X:9(x,t,b,c,d){6 c*(t/=d)*t*t+b},U:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t+1)+b},R:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t+b;6 c/2*((t-=2)*t*t+2)+b},N:9(x,t,b,c,d){6 c*(t/=d)*t*t*t+b},M:9(x,t,b,c,d){6-c*((t=t/d-1)*t*t*t-1)+b},L:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t+b;6-c/2*((t-=2)*t*t*t-2)+b},K:9(x,t,b,c,d){6 c*(t/=d)*t*t*t*t+b},J:9(x,t,b,c,d){6 c*((t=t/d-1)*t*t*t*t+1)+b},I:9(x,t,b,c,d){e((t/=d/2)<1)6 c/2*t*t*t*t*t+b;6 c/2*((t-=2)*t*t*t*t+2)+b},G:9(x,t,b,c,d){6-c*8.C(t/d*(8.g/2))+c+b},15:9(x,t,b,c,d){6 c*8.n(t/d*(8.g/2))+b},12:9(x,t,b,c,d){6-c/2*(8.C(8.g*t/d)-1)+b},Z:9(x,t,b,c,d){6(t==0)?b:c*8.j(2,10*(t/d-1))+b},Y:9(x,t,b,c,d){6(t==d)?b+c:c*(-8.j(2,-10*t/d)+1)+b},W:9(x,t,b,c,d){e(t==0)6 b;e(t==d)6 b+c;e((t/=d/2)<1)6 c/2*8.j(2,10*(t-1))+b;6 c/2*(-8.j(2,-10*--t)+2)+b},V:9(x,t,b,c,d){6-c*(8.o(1-(t/=d)*t)-1)+b},S:9(x,t,b,c,d){6 c*8.o(1-(t=t/d-1)*t)+b},Q:9(x,t,b,c,d){e((t/=d/2)<1)6-c/2*(8.o(1-t*t)-1)+b;6 c/2*(8.o(1-(t-=2)*t)+1)+b},P:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6-(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b},H:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d)==1)6 b+c;e(!p)p=d*.3;e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);6 a*8.j(2,-10*t)*8.n((t*d-s)*(2*8.g)/p)+c+b},T:9(x,t,b,c,d){f s=1.l;f p=0;f a=c;e(t==0)6 b;e((t/=d/2)==2)6 b+c;e(!p)p=d*(.3*1.5);e(a<8.w(c)){a=c;f s=p/4}m f s=p/(2*8.g)*8.r(c/a);e(t<1)6-.5*(a*8.j(2,10*(t-=1))*8.n((t*d-s)*(2*8.g)/p))+b;6 a*8.j(2,-10*(t-=1))*8.n((t*d-s)*(2*8.g)/p)*.5+c+b},F:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*(t/=d)*t*((s+1)*t-s)+b},E:9(x,t,b,c,d,s){e(s==u)s=1.l;6 c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},16:9(x,t,b,c,d,s){e(s==u)s=1.l;e((t/=d/2)<1)6 c/2*(t*t*(((s*=(1.B))+1)*t-s))+b;6 c/2*((t-=2)*t*(((s*=(1.B))+1)*t+s)+2)+b},A:9(x,t,b,c,d){6 c-h.i.v(x,d-t,0,c,d)+b},v:9(x,t,b,c,d){e((t/=d)<(1/2.k)){6 c*(7.q*t*t)+b}m e(t<(2/2.k)){6 c*(7.q*(t-=(1.5/2.k))*t+.k)+b}m e(t<(2.5/2.k)){6 c*(7.q*(t-=(2.14/2.k))*t+.11)+b}m{6 c*(7.q*(t-=(2.18/2.k))*t+.19)+b}},1b:9(x,t,b,c,d){e(t<d/2)6 h.i.A(x,t*2,0,c,d)*.5+b;6 h.i.v(x,t*2-d,0,c,d)*.5+c*.5+b}});',62,74,'||||||return||Math|function|||||if|var|PI|jQuery|easing|pow|75|70158|else|sin|sqrt||5625|asin|||undefined|easeOutBounce|abs||def|swing|easeInBounce|525|cos|easeOutQuad|easeOutBack|easeInBack|easeInSine|easeOutElastic|easeInOutQuint|easeOutQuint|easeInQuint|easeInOutQuart|easeOutQuart|easeInQuart|extend|easeInElastic|easeInOutCirc|easeInOutCubic|easeOutCirc|easeInOutElastic|easeOutCubic|easeInCirc|easeInOutExpo|easeInCubic|easeOutExpo|easeInExpo||9375|easeInOutSine|easeInOutQuad|25|easeOutSine|easeInOutBack|easeInQuad|625|984375|jswing|easeInOutBounce'.split('|'),0,{}));

/*
 *
 * TERMS OF USE - EASING EQUATIONS
 * 
 * Open source under the BSD License. 
 * 
 * Copyright Â© 2001 Robert Penner
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
 */

 (function(e){function t(t,n){this.container=e(t);this.settings=n;this.timer=0;this.before={v:0,h:0};this.touch={};this.pressed=0;this.vslider=e("<div/>",{"class":"rollbar-handle"});this.vpath=e("<div/>",{"class":"rollbar-path-vertical"});this.hslider=e("<div/>",{"class":"rollbar-handle"});this.hpath=e("<div/>",{"class":"rollbar-path-horizontal"});this.sliders=this.vslider.add(this.hslider);this.container.css({overflow:"hidden"}).contents().filter(this.settings.contentFilter).wrapAll('<div class="rollbar-content"></div>');this.content=this.container.children(".rollbar-content").css({position:"relative",top:0,left:0,overflow:"hidden"});if(this.settings.scroll=="horizontal"){this.container.prepend(this.hpath.append(this.hslider))}else if(this.settings.scroll=="vertical"){this.container.prepend(this.vpath.append(this.vslider))}else{this.container.prepend(this.vpath.append(this.vslider),this.hpath.append(this.hslider))}this.vpath.add(this.hpath).css({"z-index":this.settings.zIndex,display:"none"});this.vslider.css({height:this.settings.sliderSize,opacity:this.settings.sliderOpacity});this.hslider.css({width:this.settings.sliderSize,opacity:this.settings.sliderOpacity});if(this.settings.sliderOpacity){this.sliders.hover(this.fixFn(function(){this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,1)}),this.fixFn(function(){if(!this.pressed){this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity)}}))}this.init();this.pathSize();this.bindEvent(e(window),"load",function(){setTimeout(this.fixFn(this.checkScroll),10)});if(this.settings.lazyCheckScroll>0){setInterval(this.fixFn(function(){this.checkScroll();this.pathSize()}),this.settings.lazyCheckScroll)}}t.prototype.checkScroll=function(){this.vtrack=this.vpath.height()-this.vslider.height();this.htrack=this.hpath.width()-this.hslider.width();this.vdiff=this.content.height()-this.container.height();this.hdiff=this.content.width()-this.container.width();if(!this.settings.autoHide)return;if(this.vdiff>0){this.vpath.fadeIn(this.settings.autoHideTime)}else{this.vpath.fadeOut(this.settings.autoHideTime)}if(this.hdiff>0){this.hpath.fadeIn(this.settings.autoHideTime)}else{this.hpath.fadeOut(this.settings.autoHideTime)}};t.prototype.pathSize=function(){var e=parseInt(this.settings.pathPadding,10);this.hpath.css({left:e+"px",width:this.container.width()-2*e+"px"})};t.prototype.scroll=function(e,t,n){var r=0;var i=0;if(e<0){e=0}if(e>this.vtrack){e=this.vtrack}this.vslider.css("top",e+"px");if(t<0){t=0}if(t>this.htrack){t=this.htrack}this.hslider.css("left",t+"px");if(this.vdiff>0){i=e/this.vtrack;this.content.css("top",Math.round(-this.vdiff*i));if(n&&e&&e!=this.vtrack){n.stopPropagation();n.preventDefault()}}if(this.hdiff>0){r=t/this.htrack;this.content.css("left",Math.round(-this.hdiff*r));if(n&&t&&t!=this.htrack){n.stopPropagation();n.preventDefault()}}if(this.before.v!=i||this.before.h!=r){if(typeof this.settings.onscroll=="function"){this.settings.onscroll.call(this.container.get(0),i,r)}this.before.v=i;this.before.h=r}};t.prototype.easeScroll=function(t,n){var r=0;var i=Math.floor(this.settings.scrollTime/this.settings.scrollInterval);var s=this.vslider.position().top;var o=this.hslider.position().left;var u=e.easing[this.settings.scrollEasing]||e.easing.linear;this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,1);window.clearInterval(this.timer);this.timer=window.setInterval(this.fixFn(function(){this.scroll(s+u(r/i,r,0,1,i)*t,o+u(r/i,r,0,1,i)*n);if(++r>i){window.clearInterval(this.timer);this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity)}}),this.settings.scrollInterval)};t.prototype.fixFn=function(e,t){var n=this;return function(){e.apply(t||n,Array.prototype.slice.call(arguments))}};t.prototype.bindEvent=function(e,t,n,r){return e.bind(t,this.fixFn(n,r))};t.prototype.init=function(){var t=e(window.document);this.bindEvent(this.sliders,"mousedown",function(e){this.pressed=e.target===this.vslider.get(0)?1:2;var n=e.pageX;var r=e.pageY;var i=this.vslider.position().top;var s=this.hslider.position().left;this.bindEvent(t,"mousemove",function(e){if(this.pressed==1){this.scroll(i+(e.pageY-r),s)}else{this.scroll(i,s+(e.pageX-n))}});this.bindEvent(t,"selectstart",function(e){e.preventDefault()})});this.bindEvent(t,"mouseup",function(e){if(this.pressed==1&&e.target!==this.vslider.get(0)){this.vslider.fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity)}else if(this.pressed==2&&e.target!==this.hslider.get(0)){this.hslider.fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity)}this.pressed=0;t.unbind("mousemove");t.unbind("selectstart")});this.bindEvent(this.container,"touchstart",function(e){var t=e.originalEvent;var n=t.changedTouches[0];this.touch.sx=n.pageX;this.touch.sy=n.pageY;this.touch.sv=this.vslider.position().top;this.touch.sh=this.hslider.position().left;this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,1);if(this.settings.blockGlobalScroll&&(this.vdiff||this.hdiff)){t.stopPropagation()}});this.bindEvent(this.container,"touchmove",function(e){var t=e.originalEvent;var n=t.targetTouches[0];this.scroll(this.touch.sv+(this.touch.sy-n.pageY)*this.settings.touchSpeed,this.touch.sh+(this.touch.sx-n.pageX)*this.settings.touchSpeed,e);if(this.settings.blockGlobalScroll&&(this.vdiff||this.hdiff)){t.preventDefault();t.stopPropagation()}});this.bindEvent(this.container,"touchend touchcancel",function(e){var t=e.originalEvent;var n=t.changedTouches[0];this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity);if(this.settings.blockGlobalScroll&&(this.vdiff||this.hdiff)){t.stopPropagation()}});var n=this.vpath.height(),r=this.hpath.width();this.bindEvent(e(window),"resize",function(){this.pathSize();this.checkScroll();if(this.vdiff<=0){this.content.css("top",0)}if(this.hdiff<=0){this.content.css("left",0)}this.scroll(Math.round(parseInt(this.vslider.css("top"),10)*this.vpath.height()/n),Math.round(parseInt(this.hslider.css("left"),10)*this.hpath.width()/r));n=this.vpath.height();r=this.hpath.width()});this.bindEvent(this.container,"mousewheel",function(e,t,n,r){var i=e.target.nodeName;if(i=="TEXTAREA"||i=="SELECT"||i=="OPTION"){e.stopPropagation();return}this.scroll(this.vslider.position().top-this.settings.wheelSpeed*r,this.hslider.position().left+this.settings.wheelSpeed*n,e);this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,1);window.clearTimeout(this.timer);this.timer=window.setTimeout(this.fixFn(function(){this.sliders.stop().fadeTo(this.settings.sliderOpacityTime,this.settings.sliderOpacity)}),this.settings.sliderOpacityDelay);if(this.settings.blockGlobalScroll&&(this.vdiff||this.hdiff)){e.preventDefault();e.stopPropagation()}});this.bindEvent(t,"keydown",function(e){var t=0,n=0;n=e.keyCode==38?-this.settings.keyScroll:n;n=e.keyCode==40?this.settings.keyScroll:n;t=e.keyCode==37?-this.settings.keyScroll:t;t=e.keyCode==39?this.settings.keyScroll:t;if(n||t){this.easeScroll(n,t)}});this.bindEvent(this.container,"dragstart",function(e){e.preventDefault()});this.bindEvent(this.container,"rollbar",function(e,t,n,r){e.stopPropagation();if(t==="reset"){this.container.find(".rollbar-content, .rollbar-handle").css({top:0,left:0});return}t=t||0;n=n||0;if(/^[-\d\.]+$/.test(t)){t=parseFloat(t);if(Math.abs(t)<=1&&!r){t*=this.vtrack}else{t=t+t*(this.vtrack/this.vdiff-1)}}if(/^[-\d\.]+$/.test(n)){n=parseFloat(n);if(Math.abs(n)<=1&&!r){n*=this.htrack}else{n=n+n*(this.htrack/this.hdiff-1)}}this.easeScroll(t,n)})};e.fn.rollbar=function(n){var r={scroll:"both",autoHide:true,autoHideTime:"fast",lazyCheckScroll:1e3,blockGlobalScroll:false,contentFilter:"*",sliderSize:"30%",sliderOpacity:1,sliderOpacityTime:200,sliderOpacityDelay:1e3,wheelSpeed:20,touchSpeed:.3,pathPadding:"0px",keyScroll:100,scrollTime:500,scrollInterval:15,scrollEasing:"swing",zIndex:100,onscroll:function(){}};e.extend(r,n);return this.each(function(){new t(this,r)})}})(jQuery);
